\documentclass[12pt]{book}

\usepackage[top=2cm, bottom=2cm, left=3cm, right=2cm]{geometry} % gérer les marges

\usepackage{titlesec} % Allows customization of titles
\usepackage{titletoc} 

% citations %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[a4paper=true, colorlinks=true, linkcolor=black,urlcolor=blue, citecolor=black]{hyperref}
%\usepackage[authoryear,round,colon]{natbib}
\usepackage[sorting=none]{biblatex}
\addbibresource{../../ressources/biblio}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Boites à messages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% couleurs
\newcommand{\colwarning}{red}
\newcommand{\colloi}{blue}
\newcommand{\colinfosup}{orange}

% les remarques
\setlength{\fboxrule}{1mm}

\newcommand{\RQ}[1]{
~\\
\begin{center}
\fbox{
\begin{minipage}[]{.7\textwidth}
\textcolor{red}{\textbf{{#1}}}
\end{minipage}
}
\end{center}
}

% les warnings
\newcommand{\warning}[1]{
\setlength{\fboxrule}{1.5mm}\noindent
\begin{minipage}[t]{.1\textwidth}
\parbox[c]{\textwidth}{\includegraphics[width=\textwidth]{warning}}
\end{minipage}
\fcolorbox{\colwarning}{white}{
\begin{minipage}[t]{.85\textwidth}
\textcolor{\colwarning}{\textbf{{#1}}}
\end{minipage}
}~\\
}

% les infos sur les textes de loi
\newcommand{\loi}[1]{
\setlength{\fboxrule}{1.5mm}\noindent
\begin{minipage}[t]{.1\textwidth}
\parbox[c]{\textwidth}{\includegraphics[width=\textwidth]{semences_code_barre}}
\end{minipage}
\fcolorbox{\colloi}{white}{
\begin{minipage}[t]{.85\textwidth}
\textcolor{\colloi}{\textbf{{#1}}}
\end{minipage}
}~\\
}

% pour aller plus loin
\newcommand{\infosup}[1]{
\setlength{\fboxrule}{1.5mm}\noindent
\begin{minipage}[t]{.1\textwidth}
\parbox[c]{\textwidth}{\includegraphics[width=\textwidth]{livre}}
\end{minipage}
\fcolorbox{\colinfosup}{white}{
\begin{minipage}[t]{.85\textwidth}
\textcolor{\colinfosup}{\textbf{{#1}}}
\end{minipage}
}~\\
}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% The following code is taken from http://www.latextemplates.com/template/the-legrand-orange-book
%%
%% The Legrand Orange Book
%% Structural Definitions File
%% Version 2.0 (9/2/15)
%%
%% Original author:
%% Mathias Legrand (legrand.mathias@gmail.com) with modifications by:
%% Vel (vel@latextemplates.com)
%% 
%% This file has been downloaded from:
%% http://www.LaTeXTemplates.com
%%
%% License:
%% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%%----------------------------------------------------------------------------------------
%%	VARIOUS REQUIRED PACKAGES AND CONFIGURATIONS
%%----------------------------------------------------------------------------------------
%
%\usepackage{graphicx} % Required for including pictures
%\usepackage{tikz} % Required for drawing custom shapes
%\usepackage{enumitem} % Customize lists
%\setlist{nolistsep} % Reduce spacing between bullet points and numbered lists
%\usepackage{booktabs} % Required for nicer horizontal rules in tables
%\usepackage{xcolor} % Required for specifying colors by name
%\definecolor{mln-green}{RGB}{13,109,35} % Define the mln color used for highlighting throughout the book
%\definecolor{mln-brown}{RGB}{141,162,69}
%
%%----------------------------------------------------------------------------------------
%%	MAIN TABLE OF CONTENTS
%%----------------------------------------------------------------------------------------
%
%\usepackage{titletoc} % Required for manipulating the table of contents
%
%\contentsmargin{0cm} % Removes the default margin
%
%% Chapter text styling
%\titlecontents{chapter}[1.25cm] % Indentation
%{\addvspace{12pt}\large\sffamily\bfseries} % Spacing and font options for chapters
%{\color{mln-green!60}\contentslabel[\Large\thecontentslabel]{1.25cm}\color{mln-green}} % Chapter number
%{\color{mln-green}}  
%{\color{mln-green!60}\normalsize\;\titlerule*[.5pc]{.}\;\thecontentspage} % Page number
%
%% Section text styling
%\titlecontents{section}[1.25cm] % Indentation
%{\addvspace{3pt}\sffamily\bfseries} % Spacing and font options for sections
%{\contentslabel[\thecontentslabel]{1.25cm}} % Section number
%{}
%{\hfill\color{black}\thecontentspage} % Page number
%[]
%
%% Subsection text styling
%\titlecontents{subsection}[1.25cm] % Indentation
%{\addvspace{1pt}\sffamily\small} % Spacing and font options for subsections
%{\contentslabel[\thecontentslabel]{1.25cm}} % Subsection number
%{}
%{\ \titlerule*[.5pc]{.}\;\thecontentspage} % Page number
%[]
%
%% List of figures
%\titlecontents{figure}[0em]
%{\addvspace{-5pt}\sffamily}
%{\thecontentslabel\hspace*{1em}}
%{}
%{\ \titlerule*[.5pc]{.}\;\thecontentspage}
%[]
%
%% List of tables
%\titlecontents{table}[0em]
%{\addvspace{-5pt}\sffamily}
%{\thecontentslabel\hspace*{1em}}
%{}
%{\ \titlerule*[.5pc]{.}\;\thecontentspage}
%[]
%
%%----------------------------------------------------------------------------------------
%%	MINI TABLE OF CONTENTS IN PART HEADS
%%----------------------------------------------------------------------------------------
%
%% Chapter text styling
%\titlecontents{lchapter}[0em] % Indenting
%{\addvspace{15pt}\large\sffamily\bfseries} % Spacing and font options for chapters
%{\color{mln-green}\contentslabel[\Large\thecontentslabel]{1.25cm}\color{mln-green}} % Chapter number
%{}  
%{\color{mln-green}\normalsize\sffamily\bfseries\;\titlerule*[.5pc]{.}\;\thecontentspage} % Page number
%
%% Section text styling
%\titlecontents{lsection}[0em] % Indenting
%{\sffamily\small} % Spacing and font options for sections
%{\contentslabel[\thecontentslabel]{1.25cm}} % Section number
%{}
%{}
%
%% Subsection text styling
%\titlecontents{lsubsection}[.5em] % Indentation
%{\normalfont\footnotesize\sffamily} % Font settings
%{}
%{}
%{}
%
%%----------------------------------------------------------------------------------------
%%	PAGE HEADERS
%%----------------------------------------------------------------------------------------
%
%\usepackage{fancyhdr} % Required for header and footer configuration
%
%\pagestyle{fancy}
%\renewcommand{\chaptermark}[1]{\markboth{\sffamily\normalsize\bfseries\chaptername\ \thechapter.\ #1}{}} % Chapter text font settings
%\renewcommand{\sectionmark}[1]{\markright{\sffamily\normalsize\thesection\hspace{5pt}#1}{}} % Section text font settings
%\fancyhf{} \fancyhead[LE,RO]{\sffamily\normalsize\thepage} % Font setting for the page number in the header
%\fancyhead[LO]{\rightmark} % Print the nearest section name on the left side of odd pages
%\fancyhead[RE]{\leftmark} % Print the current chapter name on the right side of even pages
%\renewcommand{\headrulewidth}{0.5pt} % Width of the rule under the header
%\addtolength{\headheight}{2.5pt} % Increase the spacing around the header slightly
%\renewcommand{\footrulewidth}{0pt} % Removes the rule in the footer
%\fancypagestyle{plain}{\fancyhead{}\renewcommand{\headrulewidth}{0pt}} % Style for when a plain pagestyle is specified
%
%% Removes the header from odd empty pages at the end of chapters
%\makeatletter
%\renewcommand{\cleardoublepage}{
%\clearpage\ifodd\c@page\else
%\hbox{}
%\vspace*{\fill}
%\thispagestyle{empty}
%\newpage
%\fi}
%
%%----------------------------------------------------------------------------------------
%%	SECTION NUMBERING IN THE MARGIN
%%----------------------------------------------------------------------------------------
%
%\makeatletter
%\renewcommand{\@seccntformat}[1]{\llap{\textcolor{mln-green}{\csname the#1\endcsname}\hspace{1em}}}                    
%\renewcommand{\section}{\@startsection{section}{1}{\z@}
%{-4ex \@plus -1ex \@minus -.4ex}
%{1ex \@plus.2ex }
%{\normalfont\large\sffamily\bfseries}}
%\renewcommand{\subsection}{\@startsection {subsection}{2}{\z@}
%{-3ex \@plus -0.1ex \@minus -.4ex}
%{0.5ex \@plus.2ex }
%{\normalfont\sffamily\bfseries}}
%\renewcommand{\subsubsection}{\@startsection {subsubsection}{3}{\z@}
%{-2ex \@plus -0.1ex \@minus -.2ex}
%{.2ex \@plus.2ex }
%{\normalfont\small\sffamily\bfseries}}                        
%\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}
%{-2ex \@plus-.2ex \@minus .2ex}
%{.1ex}
%{\normalfont\small\sffamily\bfseries}}
%
%%----------------------------------------------------------------------------------------
%%	PART HEADINGS
%%----------------------------------------------------------------------------------------
%
%% numbered part in the table of contents
%\newcommand{\@mypartnumtocformat}[2]{%
%\setlength\fboxsep{0pt}%
%\noindent\colorbox{mln-green!20}{\strut\parbox[c][.7cm]{\ecart}{\color{mln-green!70}\Large\sffamily\bfseries\centering#1}}\hskip\esp\colorbox{mln-green!40}{\strut\parbox[c][.7cm]{\linewidth-\ecart-\esp}{\Large\sffamily\centering#2}}}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% unnumbered part in the table of contents
%\newcommand{\@myparttocformat}[1]{%
%\setlength\fboxsep{0pt}%
%\noindent\colorbox{mln-green!40}{\strut\parbox[c][.7cm]{\linewidth}{\Large\sffamily\centering#1}}}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\newlength\esp
%\setlength\esp{4pt}
%\newlength\ecart
%\setlength\ecart{1.2cm-\esp}
%\newcommand{\thepartimage}{}%
%\newcommand{\partimage}[1]{\renewcommand{\thepartimage}{#1}}%
%\def\@part[#1]#2{%
%\ifnum \c@secnumdepth >-2\relax%
%\refstepcounter{part}%
%\addcontentsline{toc}{part}{\texorpdfstring{\protect\@mypartnumtocformat{\thepart}{#1}}{\partname~\thepart\ ---\ #1}}
%\else%
%\addcontentsline{toc}{part}{\texorpdfstring{\protect\@myparttocformat{#1}}{#1}}%
%\fi%
%\startcontents%
%\markboth{}{}%
%{\thispagestyle{empty}%
%\begin{tikzpicture}[remember picture,overlay]%
%\node at (current page.north west){\begin{tikzpicture}[remember picture,overlay]%	
%\fill[mln-green!20](0cm,0cm) rectangle (\paperwidth,-\paperheight);
%\node[anchor=north] at (4cm,-3.25cm){\color{mln-green!40}\fontsize{220}{100}\sffamily\bfseries\@Roman\c@part}; 
%\node[anchor=south east] at (\paperwidth-1cm,-\paperheight+1cm){\parbox[t][][t]{8.5cm}{
%\printcontents{l}{0}{\setcounter{tocdepth}{1}}%
%}};
%\node[anchor=north east] at (\paperwidth-1.5cm,-3.25cm){\parbox[t][][t]{15cm}{\strut\raggedleft\color{white}\fontsize{30}{30}\sffamily\bfseries#2}};
%\end{tikzpicture}};
%\end{tikzpicture}}%
%\@endpart}
%\def\@spart#1{%
%\startcontents%
%\phantomsection
%{\thispagestyle{empty}%
%\begin{tikzpicture}[remember picture,overlay]%
%\node at (current page.north west){\begin{tikzpicture}[remember picture,overlay]%	
%\fill[mln-green!20](0cm,0cm) rectangle (\paperwidth,-\paperheight);
%\node[anchor=north east] at (\paperwidth-1.5cm,-3.25cm){\parbox[t][][t]{15cm}{\strut\raggedleft\color{white}\fontsize{30}{30}\sffamily\bfseries#1}};
%\end{tikzpicture}};
%\end{tikzpicture}}
%\addcontentsline{toc}{part}{\texorpdfstring{%
%\setlength\fboxsep{0pt}%
%\noindent\protect\colorbox{mln-green!40}{\strut\protect\parbox[c][.7cm]{\linewidth}{\Large\sffamily\protect\centering #1\quad\mbox{}}}}{#1}}%
%\@endpart}
%\def\@endpart{\vfil\newpage
%\if@twoside
%\if@openright
%\null
%\thispagestyle{empty}%
%\newpage
%\fi
%\fi
%\if@tempswa
%\twocolumn
%\fi}
%
%%----------------------------------------------------------------------------------------
%%	CHAPTER HEADINGS
%%----------------------------------------------------------------------------------------
%
%% A switch to conditionally include a picture, implemented by  Christian Hupfer
%\newif\ifusechapterimage
%\usechapterimagetrue
%\newcommand{\thechapterimage}{}%
%\newcommand{\chapterimage}[1]{\ifusechapterimage\renewcommand{\thechapterimage}{#1}\fi}%
%\def\@makechapterhead#1{%
%{\parindent \z@ \raggedright \normalfont
%\ifnum \c@secnumdepth >\m@ne
%\if@mainmatter
%\begin{tikzpicture}[remember picture,overlay]
%\node at (current page.north west)
%{\begin{tikzpicture}[remember picture,overlay]
%\node[anchor=north west,inner sep=0pt] at (0,0) {\ifusechapterimage\includegraphics[width=\paperwidth]{\thechapterimage}\fi};
%\draw[anchor=west] (\Gm@lmargin,-9cm) node [line width=2pt,rounded corners=15pt,draw=mln-green,fill=white,fill opacity=0.5,inner sep=15pt]{\strut\makebox[22cm]{}};
%\draw[anchor=west] (\Gm@lmargin+.3cm,-9cm) node {\huge\sffamily\bfseries\color{black}\thechapter. #1\strut};
%\end{tikzpicture}};
%\end{tikzpicture}
%\else
%\begin{tikzpicture}[remember picture,overlay]
%\node at (current page.north west)
%{\begin{tikzpicture}[remember picture,overlay]
%\node[anchor=north west,inner sep=0pt] at (0,0) {\ifusechapterimage\includegraphics[width=\paperwidth]{\thechapterimage}\fi};
%\draw[anchor=west] (\Gm@lmargin,-9cm) node [line width=2pt,rounded corners=15pt,draw=mln-green,fill=white,fill opacity=0.5,inner sep=15pt]{\strut\makebox[22cm]{}};
%\draw[anchor=west] (\Gm@lmargin+.3cm,-9cm) node {\huge\sffamily\bfseries\color{black}#1\strut};
%\end{tikzpicture}};
%\end{tikzpicture}
%\fi\fi\par\vspace*{270\p@}}}
%
%%-------------------------------------------
%
%\def\@makeschapterhead#1{%
%\begin{tikzpicture}[remember picture,overlay]
%\node at (current page.north west)
%{\begin{tikzpicture}[remember picture,overlay]
%\node[anchor=north west,inner sep=0pt] at (0,0) {\ifusechapterimage\includegraphics[width=\paperwidth]{\thechapterimage}\fi};
%\draw[anchor=west] (\Gm@lmargin,-9cm) node [line width=2pt,rounded corners=15pt,draw=mln-green,fill=white,fill opacity=0.5,inner sep=15pt]{\strut\makebox[22cm]{}};
%\draw[anchor=west] (\Gm@lmargin+.3cm,-9cm) node {\huge\sffamily\bfseries\color{black}#1\strut};
%\end{tikzpicture}};
%\end{tikzpicture}
%\par\vspace*{270\p@}}
%\makeatother
%
%
%
%
